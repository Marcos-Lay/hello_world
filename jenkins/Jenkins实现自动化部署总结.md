# Jenkins实现自动化部署总结
## 简介
Jenkins是一个可扩展的持续集成引擎。
- 可以持续、自动地构建/测试软件项目。
- 监控一些定时执行的任务。
## jenkins的初步应用
在尝试使用jenkins的初期，顺舟可以使用jenkins实现测试环境的自动部署。
## 使用原因
由于项目每次部署到测试环境的操作都是相同的，因此使用jenkins来一键部署到测试服务器可以减少部署人员需要花费的时间和精力，也防止部署时出现一些误操作所造成的低级错误。
## jenkins+Maven+SVN+Shell+Tomcat实现顺舟测试环境的部署
### 自动部署的三种方式
- 触发式构建（建议）  
开发人员push代码或者合并代码到gitlab/svn项目的master分支，jenkins就部署代码到对应服务器。需要在SVN中配置hooks文件来触发构建。
- 参数化构建   
用于测试环境预上线环境部署，开发push代码或者合并代码到gitlab/svn项目的master分支之后，并不会部署代码，而是需要登录到jenkins的web界面，点击构建按钮，传入对应的参数（比如参数需要构建的tag，需要部署的分支）然后才会部署。
- 定时构建  
用于项目自动打包，定时构建是在参数化构建的基础上添加的，开发人员可以登录jenkins手动传入tag进行打包，如果不手动打包，那么jenkins就每天凌晨从gitlab/svn拉取最新的项目代码打包。
## Jenkins实现自动部署步骤
- 官网提供两种安装方式  
1）服务器安装包（可支持windox和linux）  
2）使用war包（java）直接放在servlet容器中（测试服务器tomcat目录中的Webapp文件夹中）
- 插件自动/手动安装
- JDK+Maven+Svn环境配置
- 编写Shell自动部署脚本
- 回滚配置
- Jenkins用户权限设置
- 邮箱配置（可选）  
部署成功或失败都可以以邮箱发送通知，可以通知测试人员进行测试。
## 结论
通过使用Jenkins实现自动部署，每一次项目打包，部署到测试服务器都可以自动完成，减少了开发人员需要花费的时间和精力，提高了开发效率。
